"use strict";function _typeof(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e){n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};if(e%2){ownKeys(Object(i),true).forEach(function(e){_defineProperty(t,e,i[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))}else{ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}}return t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,n=new Array(t);i<t;i++){n[i]=e[i]}return n}function _iterableToArrayLimit(e,t){var i=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(i==null)return;var n=[];var r=true;var o=false;var s,l;try{for(i=i.call(e);!(r=(s=i.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){o=true;l=e}finally{try{if(!r&&i["return"]!=null)i["return"]()}finally{if(o)throw l}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){if(t)_defineProperties(e.prototype,t);if(i)_defineProperties(e,i);return e}function _defineProperty(e,t,i){if(t in e){Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true})}else{e[t]=i}return e}var FFScroll=function(){function l(){var r=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,l);this.dependencies={$:"jQuery",gsap:"GSAP"};this.is_missing_dependency=false;Object.entries(this.dependencies).forEach(function(e){var t=_slicedToArray(e,2),i=t[0],n=t[1];if(typeof window[i]!=="undefined")return;r.is_missing_dependency=true;console.error("FFScroll: Le module requiert ".concat(n," pour fonctionner."))});if(this.is_missing_dependency){return}this.init(e)}_createClass(l,[{key:"init",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=this;n.scrollbar=null;var r={lerp:.075,duration:1.8,easing:function e(t){return Math.min(1,1.001-Math.pow(2,-10*t))},smoothWheel:true,wheelMultiplier:1.2};Object.keys(r).forEach(function(e){var t=e.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())});if(typeof i[t]==="undefined"||t===e)return;i[e]=i[t];delete i[t]});var o=_objectSpread({scroll_to_default_options:{},add_custom_scrollbar:true,prevent_scroll_on_refresh:true},r);n.options=_objectSpread(_objectSpread({},o),i);n.lenis=new Lenis(_objectSpread({},n.options));n.create_scrollbar();function s(e){n.lenis.raf(e);if(typeof ScrollTrigger==="function"){ScrollTrigger.update()}requestAnimationFrame(s)}requestAnimationFrame(s);if(o.prevent_scroll_on_refresh){window.onpagehide=function(){window.scrollTo(0,0)}}if("scrollRestoration"in history){history.scrollRestoration="manual";if(typeof ScrollTrigger==="function"&&typeof ScrollTrigger.clearScrollMemory==="function"){ScrollTrigger.clearScrollMemory("manual")}}n.update_lenis_prevent_elements();$(window).on("resize",l.utils.debounce(function(){n.update_lenis_prevent_elements()},200));if((typeof barba==="undefined"?"undefined":_typeof(barba))==="object"){barba.hooks.beforeEnter(function(){t.lenis.dimensions.onContentResize();t.lenis.dimensions.onWindowResize();if(t.scrollbar){t.scrollbar.refresh()}n.update_lenis_prevent_elements()})}}},{key:"create_scrollbar",value:function e(){if(!this.options.add_custom_scrollbar||this.scrollbar||l.utils.is_touch_only()){this.scrollbar=null;return}this.scrollbar=new FFScrollScrollbar(this.lenis)}},{key:"reset",value:function e(){if(this.lenis.isStopped)this.lenis.start();this.lenis.scrollTo(0,{immediate:true});this.lenis.dimensions.onContentResize();this.lenis.dimensions.onWindowResize();if(this.scrollbar){this.scrollbar.refresh()}}},{key:"add_scroll_listener",value:function e(t){$(window).on("scroll",t)}},{key:"remove_scroll_listener",value:function e(t){$(window).off("scroll",t)}},{key:"get_scroll_top",value:function e(){return this.lenis.scroll}},{key:"set_scroll_top",value:function e(t){this.lenis.scrollTo(t,{immediate:true,force:true})}},{key:"scroll_to",value:function e(t,i){var n=this;var r=_objectSpread({force:true,lock:true},n.options.scroll_to_default_options);i=_objectSpread(_objectSpread({},r),i);if(isNaN(i.offset)){i.offset=($(i.offset).innerHeight()||0)*-1}if($("#wpadminbar").length){i.offset-=$("#wpadminbar").height()}var o=i.onComplete;var s=new Promise(function(e){i.onComplete=function(){if(typeof o==="function")o();e()}});this.lenis.scrollTo(t,i);return s}},{key:"lock_scroll",value:function e(){this.lenis.stop()}},{key:"unlock_scroll",value:function e(){this.lenis.start()}},{key:"toggle_scroll",value:function e(){var t=this.lenis;if(!t.paused()){t.lock_scroll()}else{t.unlock_scroll()}}},{key:"update_lenis_prevent_elements",value:function e(){$("[data-lenis-prevent], [data-lenis-prevent-disabled]").each(function(){if(this.scrollHeight<=this.clientHeight+1){$(this).attr("data-lenis-prevent-disabled","");$(this).removeAttr("data-lenis-prevent")}else{$(this).attr("data-lenis-prevent","");$(this).removeAttr("data-lenis-prevent-disabled")}})}}]);return l}();_defineProperty(FFScroll,"utils",{is_touch:function e(){return typeof ScrollTrigger==="function"?ScrollTrigger.isTouch!==0:window.matchMedia("(pointer: coarse)").matches},is_touch_only:function e(){return typeof ScrollTrigger==="function"?ScrollTrigger.isTouch===1:window.matchMedia("(pointer: coarse)").matches&&!window.matchMedia("(pointer: fine)").matches},debounce:function e(r,o){var s;return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++){t[i]=arguments[i]}var n=this;clearTimeout(s);s=setTimeout(function(){r.apply(n,t)},o)}}});var FFScrollScrollbar=function(){function t(e){_classCallCheck(this,t);this.lenis=e;if(!this.lenis)return;this.elements={container:null,track:null,thumb:null};this.max_scroll_value=0;this.hide_timeout=null;this.is_hovered=false;this.set_thumb_y=function(){};this.thumb_height=0;this.thumb_y=0;this.is_dragging=false;this.drag_y_on_thumb=0;if(this.lenis){this.init()}}_createClass(t,[{key:"init",value:function e(){var s=this;if(!this.lenis)return;this.add_styles();this.setup_html();this.refresh();this.lenis.on("scroll",function(e){var t=e.scroll,i=e.limit,n=e.velocity,r=e.direction,o=e.progress;s.update(o)});if(typeof ScrollTrigger==="function"){ScrollTrigger.addEventListener("refresh",function(){setTimeout(function(){s.refresh()},200)})}if(!FFScroll.utils.is_touch_only()){this.elements.container.addEventListener("click",this.handle_click.bind(this));document.addEventListener("mousedown",this.handle_drag_start.bind(this),{passive:true});document.addEventListener("mousemove",this.handle_drag.bind(this),{passive:true});document.addEventListener("mouseup",this.handle_drag_end.bind(this),{passive:true});this.elements.container.addEventListener("pointerenter",function(e){if(s.is_hovered)return;s.elements.container.classList.add("scrollbar--shown");s.is_hovered=true});this.elements.container.addEventListener("pointerleave",function(e){if(!s.is_hovered)return;s.set_hide_timeout();s.is_hovered=false})}var t=FFScroll.utils.debounce(this.refresh.bind(this),300);if(this.lenis.dimensions.wrapper!==window){this.wrapper_resize_observer=new ResizeObserver(t);this.wrapper_resize_observer.observe(this.lenis.dimensions.wrapper)}this.content_resize_observer=new ResizeObserver(t);this.content_resize_observer.observe(this.lenis.dimensions.content)}},{key:"setup_html",value:function e(){if(this.elements.container&&document.body.contains(this.elements.container)){this.elements.container.remove()}this.elements.container=document.createElement("div");this.elements.container.classList.add("scrollbar");this.elements.container.innerHTML='\n      <div class="scrollbar__track"></div>\n      <div class="scrollbar__thumb"></div>';this.elements.track=this.elements.container.querySelector(".scrollbar__track");this.elements.thumb=this.elements.container.querySelector(".scrollbar__thumb");this.set_thumb_y=gsap.quickSetter(this.elements.thumb,"y","px");document.body.append(this.elements.container)}},{key:"add_styles",value:function e(){if(document.getElementById("ff-scroll-scrollbar-styles")){return}var t=document.createElement("style");t.id="ff-scroll-scrollbar-styles";document.head.prepend(t);t.sheet.insertRule("\n      html, body {\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n      }");t.sheet.insertRule("html::-webkit-scrollbar, body::-webkit-scrollbar { display: none; }");t.sheet.insertRule("\n      .scrollbar--shown {\n        opacity: 1;\n      }");t.sheet.insertRule("\n      .scrollbar {\n        position: fixed;\n        top: 0;\n        right: 0;\n        width: 8px;\n        height: 100vh;\n        opacity: 0;\n        z-index: 1;\n        cursor: pointer;\n        user-select: none;\n        transition: opacity 0.4s ease-out;\n      }");t.sheet.insertRule("\n    .scrollbar__track {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background: rgba(220, 220, 220, 0.6);\n    }");t.sheet.insertRule("\n    .scrollbar__thumb {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 8px;\n      background: rgba(160, 160, 160);\n      cursor: grab;\n    }");t.sheet.insertRule(".scrollbar--is-dragging .scrollbar__thumb, .scrollbar__thumb:active { cursor: grabbing; }")}},{key:"handle_click",value:function e(t){if(t.target==this.elements.thumb||this.is_dragging)return;var i=this.convert_scrollbar_y_to_scroll_top(t.y);this.lenis.scrollTo(i,.8)}},{key:"handle_drag_start",value:function e(t){if(t.target!=this.elements.thumb)return;this.is_dragging=true;this.elements.container.classList.add("scrollbar--is-dragging");this.drag_y_on_thumb=gsap.utils.clamp(0,this.thumb_height,t.y-this.thumb_y)}},{key:"handle_drag",value:function e(t){if(this.is_dragging==false)return;var i=this.convert_scrollbar_y_to_scroll_top(t.y+(this.thumb_height/2-this.drag_y_on_thumb));this.lenis.scrollTo(i,{immediate:true})}},{key:"handle_drag_end",value:function e(){if(!this.is_dragging)return;this.is_dragging=false;this.elements.container.classList.remove("scrollbar--is-dragging");this.drag_y_on_thumb=0}},{key:"convert_scrollbar_y_to_scroll_top",value:function e(t){var i=this.lenis.dimensions.content;var n=i.offsetHeight*this.thumb_height/this.elements.container.offsetHeight;var r=gsap.utils.pipe(gsap.utils.mapRange(0,this.elements.container.offsetHeight,n/-2,this.max_scroll_value+n/2),gsap.utils.clamp(0,this.max_scroll_value));return r(t)}},{key:"update",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=this.lenis.dimensions.wrapper;var n=Math.floor(gsap.utils.mapRange(0,1,0,i.innerHeight-this.thumb_height,t));this.thumb_y=n;this.set_thumb_y(this.thumb_y);if(!this.elements.container.classList.contains("scrollbar--shown")){this.elements.container.classList.add("scrollbar--shown")}this.set_hide_timeout()}},{key:"refresh",value:function e(){var t=this;var i=this.lenis.dimensions.wrapper;var n=this.lenis.dimensions.content;this.thumb_height=Math.max(i.innerHeight*i.innerHeight/n.offsetHeight||20,20);this.max_scroll_value=n.offsetHeight-i.innerHeight;gsap.set(this.elements.thumb,{height:this.thumb_height});setTimeout(function(){t.update(t.lenis.progress)},1e3)}},{key:"set_hide_timeout",value:function e(){var t=this;if(this.hide_timeout)clearTimeout(this.hide_timeout);this.hide_timeout=setTimeout(function(){t.hide_timeout=null;if(!t.is_hovered&&!t.is_dragging){t.elements.container.classList.remove("scrollbar--shown")}},600)}}]);return t}();!function(e,t){"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).Lenis=t()}(void 0,function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,"symbol"==_typeof(r=function(e,t){if("object"!=_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key))?r:String(r),n)}var r}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i){Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}return e},D.apply(this,arguments)}function L(e,t,i){return Math.max(e,Math.min(t,i))}var I=function(){function e(){}var t=e.prototype;return t.advance=function(e){var t;if(this.isRunning){var i,n=!1;if(this.lerp)this.value=(1-(i=this.lerp))*this.value+i*this.to,Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;var r=L(0,this.currentTime/this.duration,1),o=(n=r>=1)?1:this.easing(r);this.value=this.from+(this.to-this.from)*o}null==(t=this.onUpdate)||t.call(this,this.value,{completed:n}),n&&this.stop()}},t.stop=function(){this.isRunning=!1},t.fromTo=function(e,t,i){var n=i.lerp,r=void 0===n?.1:n,o=i.duration,s=void 0===o?1:o,l=i.easing,a=void 0===l?function(e){return e}:l,c=i.onUpdate;this.from=this.value=e,this.to=t,this.lerp=r,this.duration=s,this.easing=a,this.currentTime=0,this.isRunning=!0,this.onUpdate=c},e}();function r(i,n){var r;return function(){var e=arguments,t=this;clearTimeout(r),r=setTimeout(function(){i.apply(t,e)},n)}}var q=function(){function e(e,t){var i=this;this.onWindowResize=function(){i.width=window.innerWidth,i.height=window.innerHeight},this.onWrapperResize=function(){i.width=i.wrapper.clientWidth,i.height=i.wrapper.clientHeight},this.onContentResize=function(){var e=i.wrapper===window?document.documentElement:i.wrapper;i.scrollHeight=e.scrollHeight,i.scrollWidth=e.scrollWidth},this.wrapper=e,this.content=t,this.wrapper===window?(window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize()):(this.wrapperResizeObserver=new ResizeObserver(r(this.onWrapperResize,100)),this.wrapperResizeObserver.observe(this.wrapper),this.onWrapperResize()),this.contentResizeObserver=new ResizeObserver(r(this.onContentResize,100)),this.contentResizeObserver.observe(this.content),this.onContentResize()}return e.prototype.destroy=function(){var e,t;window.removeEventListener("resize",this.onWindowResize,!1),null==(e=this.wrapperResizeObserver)||e.disconnect(),null==(t=this.contentResizeObserver)||t.disconnect()},i(e,[{key:"limit",get:function e(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}]),e}(),X=function(){function e(e,t){var s=this,i=t.wheelMultiplier,n=void 0===i?1:i,r=t.touchMultiplier,o=void 0===r?2:r,l=t.normalizeWheel,a=void 0!==l&&l;this.onTouchStart=function(e){var t=e.targetTouches?e.targetTouches[0]:e,i=t.clientY;s.touchStart.x=t.clientX,s.touchStart.y=i,s.lastDelta={x:0,y:0}},this.onTouchMove=function(e){var t=e.targetTouches?e.targetTouches[0]:e,i=t.clientX,n=t.clientY,r=-(i-s.touchStart.x)*s.touchMultiplier,o=-(n-s.touchStart.y)*s.touchMultiplier;s.touchStart.x=i,s.touchStart.y=n,s.lastDelta={x:r,y:o},s.emitter.emit("scroll",{type:"touch",deltaX:r,deltaY:o,event:e})},this.onTouchEnd=function(e){s.emitter.emit("scroll",{type:"touch",inertia:!0,deltaX:s.lastDelta.x,deltaY:s.lastDelta.y,event:e})},this.onWheel=function(e){var t=e.deltaX,i=e.deltaY;s.normalizeWheel&&(t=L(-100,t,100),i=L(-100,i,100)),s.emitter.emit("scroll",{type:"wheel",deltaX:t*=s.wheelMultiplier,deltaY:i*=s.wheelMultiplier,event:e})},this.element=e,this.wheelMultiplier=n,this.touchMultiplier=o,this.normalizeWheel=a,this.touchStart={x:null,y:null},this.emitter={events:{},emit:function e(t){for(var i=this.events[t]||[],n=0,r=i.length;n<r;n++){i[n].apply(i,[].slice.call(arguments,1))}},on:function e(t,i){var n,r=this;return(null==(n=this.events[t])?void 0:n.push(i))||(this.events[t]=[i]),function(){var e;r.events[t]=null==(e=r.events[t])?void 0:e.filter(function(e){return i!==e})}}},this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}var t=e.prototype;return t.on=function(e,t){return this.emitter.on(e,t)},t.destroy=function(){this.emitter.events={},this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})},e}(),e=function(){function e(e){var u=this,t=void 0===e?{}:e,i=t.direction,n=t.gestureDirection,r=t.mouseMultiplier,o=t.smooth,s=t.wrapper,l=void 0===s?window:s,a=t.content,c=void 0===a?document.documentElement:a,h=t.wheelEventsTarget,d=void 0===h?l:h,p=t.smoothWheel,f=void 0===p?null==o||o:p,m=t.smoothTouch,v=void 0!==m&&m,_=t.syncTouch,g=void 0!==_&&_,y=t.syncTouchLerp,b=void 0===y?.1:y,w=t.touchInertiaMultiplier,S=void 0===w?35:w,T=t.duration,k=t.easing,L=void 0===k?function(e){return Math.min(1,1.001-Math.pow(2,-10*e))}:k,z=t.lerp,E=void 0===z?T?null:.1:z,O=t.infinite,M=void 0!==O&&O,R=t.orientation,j=void 0===R?null!=i?i:"vertical":R,W=t.gestureOrientation,H=void 0===W?null!=n?n:"vertical":W,A=t.touchMultiplier,x=void 0===A?1:A,P=t.wheelMultiplier,C=void 0===P?null!=r?r:1:P,F=t.normalizeWheel,$=void 0!==F&&F;this.onVirtualScroll=function(e){var t=e.type,i=e.inertia,n=e.deltaX,r=e.deltaY,o=e.event;if(!o.ctrlKey){var s="touch"===t,l="wheel"===t;if(!("vertical"===u.options.gestureOrientation&&0===r||"horizontal"===u.options.gestureOrientation&&0===n||s&&"vertical"===u.options.gestureOrientation&&0===u.scroll&&!u.options.infinite&&r<=0||o.composedPath().find(function(e){return null==e||null==e.hasAttribute?void 0:e.hasAttribute("data-lenis-prevent")})))if(u.isStopped||u.isLocked)o.preventDefault();else{if(u.isSmooth=(u.options.smoothTouch||u.options.syncTouch)&&s||u.options.smoothWheel&&l,!u.isSmooth)return u.isScrolling=!1,void u.animate.stop();o.preventDefault();var a=r;"both"===u.options.gestureOrientation?a=Math.abs(r)>Math.abs(n)?r:n:"horizontal"===u.options.gestureOrientation&&(a=n);var c=s&&u.options.syncTouch,h=s&&i&&Math.abs(a)>1;h&&(a=u.velocity*u.options.touchInertiaMultiplier),u.scrollTo(u.targetScroll+a,D({programmatic:!1},c&&{lerp:h?u.syncTouchLerp:.4}))}}},this.onScroll=function(){if(!u.isScrolling){var e=u.animatedScroll;u.animatedScroll=u.targetScroll=u.actualScroll,u.velocity=0,u.direction=Math.sign(u.animatedScroll-e),u.emit()}},i&&console.warn("Lenis: `direction` option is deprecated, use `orientation` instead"),n&&console.warn("Lenis: `gestureDirection` option is deprecated, use `gestureOrientation` instead"),r&&console.warn("Lenis: `mouseMultiplier` option is deprecated, use `wheelMultiplier` instead"),o&&console.warn("Lenis: `smooth` option is deprecated, use `smoothWheel` instead"),window.lenisVersion="1.0.11",l!==document.documentElement&&l!==document.body||(l=window),this.options={wrapper:l,content:c,wheelEventsTarget:d,smoothWheel:f,smoothTouch:v,syncTouch:g,syncTouchLerp:b,touchInertiaMultiplier:S,duration:T,easing:L,lerp:E,infinite:M,gestureOrientation:H,orientation:j,touchMultiplier:x,wheelMultiplier:C,normalizeWheel:$},this.dimensions=new q(l,c),this.rootElement.classList.add("lenis"),this.velocity=0,this.isStopped=!1,this.isSmooth=f||v,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.animate=new I,this.emitter={events:{},emit:function e(t){for(var i=this.events[t]||[],n=0,r=i.length;n<r;n++){i[n].apply(i,[].slice.call(arguments,1))}},on:function e(t,i){var n,r=this;return(null==(n=this.events[t])?void 0:n.push(i))||(this.events[t]=[i]),function(){var e;r.events[t]=null==(e=r.events[t])?void 0:e.filter(function(e){return i!==e})}}},this.options.wrapper.addEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll=new X(d,{touchMultiplier:x,wheelMultiplier:C,normalizeWheel:$}),this.virtualScroll.on("scroll",this.onVirtualScroll)}var t=e.prototype;return t.destroy=function(){this.emitter.events={},this.options.wrapper.removeEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll.destroy()},t.on=function(e,t){return this.emitter.on(e,t)},t.off=function(e,t){var i;this.emitter.events[e]=null==(i=this.emitter.events[e])?void 0:i.filter(function(e){return t!==e})},t.setScroll=function(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e},t.emit=function(){this.emitter.emit("scroll",this)},t.reset=function(){this.isLocked=!1,this.isScrolling=!1,this.velocity=0,this.animate.stop()},t.start=function(){this.isStopped=!1,this.reset()},t.stop=function(){this.isStopped=!0,this.animate.stop(),this.reset()},t.raf=function(e){var t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)},t.scrollTo=function(e,t){var r=this,i=void 0===t?{}:t,n=i.offset,o=void 0===n?0:n,s=i.immediate,l=void 0!==s&&s,a=i.lock,c=void 0!==a&&a,h=i.duration,u=void 0===h?this.options.duration:h,d=i.easing,p=void 0===d?this.options.easing:d,f=i.lerp,m=void 0===f?!u&&this.options.lerp:f,v=i.onComplete,_=void 0===v?null:v,g=i.force,y=i.programmatic,b=void 0===y||y;if(!this.isStopped||void 0!==g&&g){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{var w,S;if("string"==typeof e?S=document.querySelector(e):null!=(w=e)&&w.nodeType&&(S=e),S){if(this.options.wrapper!==window){var T=this.options.wrapper.getBoundingClientRect();o-=this.isHorizontal?T.left:T.top}var k=S.getBoundingClientRect();e=(this.isHorizontal?k.left:k.top)+this.animatedScroll}}if("number"==typeof e){if(e+=o,e=Math.round(e),this.options.infinite?b&&(this.targetScroll=this.animatedScroll=this.scroll):e=L(0,e,this.limit),l)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.emit(),void(null==_||_());if(!b){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:u,easing:p,lerp:m,onUpdate:function e(t,i){var n=i.completed;c&&(r.isLocked=!0),r.isScrolling=!0,r.velocity=t-r.animatedScroll,r.direction=Math.sign(r.velocity),r.animatedScroll=t,r.setScroll(r.scroll),b&&(r.targetScroll=t),n&&(c&&(r.isLocked=!1),requestAnimationFrame(function(){r.isScrolling=!1}),r.velocity=0,null==_||_()),r.emit()}})}}},i(e,[{key:"rootElement",get:function e(){return this.options.wrapper===window?this.options.content:this.options.wrapper}},{key:"limit",get:function e(){return this.isHorizontal?this.dimensions.limit.x:this.dimensions.limit.y}},{key:"isHorizontal",get:function e(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function e(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function e(){return this.options.infinite?(i=this.animatedScroll%(t=this.limit),(t>0&&i<0||t<0&&i>0)&&(i+=t),i):this.animatedScroll;var t,i}},{key:"progress",get:function e(){return 0===this.limit?1:this.scroll/this.limit}},{key:"isSmooth",get:function e(){return this.__isSmooth},set:function e(t){this.__isSmooth!==t&&(this.rootElement.classList.toggle("lenis-smooth",t),this.__isSmooth=t)}},{key:"isScrolling",get:function e(){return this.__isScrolling},set:function e(t){this.__isScrolling!==t&&(this.rootElement.classList.toggle("lenis-scrolling",t),this.__isScrolling=t)}},{key:"isStopped",get:function e(){return this.__isStopped},set:function e(t){this.__isStopped!==t&&(this.rootElement.classList.toggle("lenis-stopped",t),this.__isStopped=t)}}]),e}();return e});